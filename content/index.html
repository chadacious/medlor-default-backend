<!DOCTYPE html>
<html>
  <head>
  </head>

  <body>
    One moment please...
    <!-- Redirect in JavaScript to the index.html for the single page app (SPA) react app ot ensure it's loaded -->
    <!-- note that the 404 path is preserved and sent back to the react app for special handling. Not sure how SEO works with this trick -->
    <script>
      const baseUrl = location.origin;
      const path = location.pathname;
      try {
        // handle the case where the path contains specific parts that are used for partitioning to different backend services
        const parts = path.split('/');
        const redirectPath = baseUrl + (parts.length > 1 && parts[1] === 'signup' ? '/signup' : '') + '/index.html?redirectTo=' + path;
        console.log(redirectPath);
        window.location = redirectPath;
      } catch (error) {
        console.log(error);
        window.location = baseUrl + '/index.html?redirectTo=/404';
      }
    </script>
  </body>
</html>